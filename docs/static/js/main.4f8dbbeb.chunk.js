(this["webpackJsonpgiphy-viewer"]=this["webpackJsonpgiphy-viewer"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),c=(a(14),a(8)),o=a(5),l=a(1),u=a(2),p=a(4),h=a(3),m=(a(15),a(16),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).imgRef=r.a.createRef(),n.copyButtonRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list-element flex"},r.a.createElement("img",{src:this.props.url,frameBorder:"0",className:"giphy-embed responsive-image",allowFullScreen:!0,alt:this.props.title,height:this.props.height,width:this.props.width,ref:this.imgRef,loading:"lazy"}),r.a.createElement("div",{className:"element-buttons flex"},r.a.createElement("button",{className:"btn",onClick:function(){e.props.onDeleteClicked(e.props.id)}},"Delete"),r.a.createElement("button",{className:"btn",onClick:function(){try{navigator.clipboard.writeText(e.props.url),e.copyButtonRef.current.innerText="Link copied!",setTimeout((function(){e.copyButtonRef.current.innerText="Copy"}),1e3)}catch(t){}},ref:this.copyButtonRef},"Copy")))}}]),a}(r.a.Component)),f=(a(17),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=function(t){e.props.onDeleteClicked(t)};if(!this.props.data)return null;var a=this.props.data.map((function(e,a){return r.a.createElement(m,{id:e.id,url:e.images.fixed_width_downsampled.url,width:e.images.fixed_width_downsampled.width,height:e.images.fixed_width_downsampled.height,title:e.title,key:e.id,onDeleteClicked:t})}));return r.a.createElement("div",{className:"gif-list"},a)}}]),a}(r.a.Component)),d=(a(18),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-bar-flex middle-flex pt-10"},r.a.createElement("button",{onClick:function(t){e.props.onSearch(e.searchBarValue.value)},type:"submit",className:"btn searchButton"},"Search"),r.a.createElement("input",{type:"text",id:"searchBar",ref:function(t){return e.searchBarValue=t},className:"searchInput",placeholder:"Search for GIFs",defaultValue:this.props.searchTerm}),r.a.createElement("button",{className:"btn clearButton",onClick:function(){e.searchBarValue.value="",e.props.onClear()}},"Clear")),r.a.createElement("div",{className:"search-bar-flex middle-flex pt-10"},r.a.createElement("button",{className:"btn trendingButton",onClick:function(){e.props.onFetchTrending()}},"Trending")))}}]),a}(r.a.Component)),g=(a(19),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){if(0===this.props.totalCount)return null;var e=Math.ceil(this.props.totalCount/this.props.itemsPerPage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.props.currentPage+1," | ",e),r.a.createElement("div",{className:"flex middle-flex paginator-margin"},r.a.createElement("button",{className:"btn btn-paginator",disabled:this.props.currentPage+1===1,onClick:this.props.onPreviousClicked},"<<"),r.a.createElement("button",{className:"btn btn-paginator",disabled:this.props.currentPage+1===e,onClick:this.props.onNextClicked},">>")))}}]),a}(r.a.Component)),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fetch=function(){if(n.state.trending||n.state.search){var e="https://api.giphy.com/v1/gifs/trending?api_key=".concat(n.apiKey,"&limit=").concat(n.state.GIFperPage,"&offset=").concat(Number(n.state.page)*Number(n.state.GIFperPage));n.state.search&&(e="https://api.giphy.com/v1/gifs/search?api_key=".concat(n.apiKey,"&q=").concat(n.state.searchTerm,"&limit=").concat(n.state.GIFperPage,"&offset=").concat(n.state.page*n.state.GIFperPage)),fetch(e).then((function(e){return e.json()})).then((function(e){var t=[].concat(Object(o.a)(n.state.gifList),Object(o.a)(e.data));n.setState({gifList:t,GIFtotalCount:e.pagination.total_count},n.storeStateInSessionStorage)})).catch((function(e){alert("Error occured")}))}},n.state={gifList:[],page:0,search:!1,trending:!1,GIFtotalCount:0,GIFperPage:24,searchTerm:""},n.apiKey="dc6zaTOxFJmzC",n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App "},r.a.createElement("div",{className:"flex-container center"},r.a.createElement(d,{onSearch:function(t){e.setState({trending:!1,search:!0,searchTerm:t,gifList:[],page:0,GIFtotalCount:0},e.fetch)},onFetchTrending:function(){e.setState({trending:!0,search:!1,gifList:[],page:0,GIFtotalCount:0,searchTerm:""},e.fetch)},onClear:function(){e.setState({gifList:[],page:0,trending:!1,search:!1,GIFtotalCount:0,searchTerm:""},e.storeStateInSessionStorage)},searchTerm:this.state.searchTerm}),r.a.createElement("div",{className:"mt-10"},r.a.createElement("img",{src:"/giphy-explorer/img/giphy.gif",style:{width:"33.36%"}})),r.a.createElement("div",{className:"flex-item"},r.a.createElement(f,{data:this.state.gifList,onDeleteClicked:function(t){var a=Object(o.a)(e.state.gifList);a.splice(e.state.gifList.findIndex((function(e){return e.id===t})),1),e.setState({gifList:a})}})),r.a.createElement("div",{className:"flex-item"},r.a.createElement(g,{totalCount:this.state.GIFtotalCount,itemsPerPage:this.state.GIFperPage,currentPage:this.state.page,onNextClicked:function(){var t=e.state.page+1;e.setState({page:t,gifList:[]},e.fetch)},onPreviousClicked:function(){var t=e.state.page-1;e.setState({page:t,gifList:[]},e.fetch)}}))))}},{key:"storeStateInSessionStorage",value:function(){for(var e in this.state)sessionStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"loadStateFromSessionStorage",value:function(){var e=this.state;for(var t in this.state)null!==sessionStorage.getItem(t)&&(e[t]=JSON.parse(sessionStorage.getItem(t)));this.setState(Object(c.a)({},e))}},{key:"componentDidMount",value:function(){this.loadStateFromSessionStorage()}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.4f8dbbeb.chunk.js.map